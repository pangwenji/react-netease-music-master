# React Netease Music

React Netease Musicâ€”â€”ä¸€ä¸ªåŸºäº Reactã€TypeScript çš„é«˜ä»¿ç½‘æ˜“äº‘ mac å®¢æˆ·ç«¯æ’­æ”¾å™¨ã€‚

## é¡¹ç›®ä½“éªŒåœ°å€

[é«˜ä»¿ç½‘æ˜“äº‘éŸ³ä¹æ’­æ”¾å™¨â€”â€”éŸ³ä¸ºçˆ±å‘€ ğŸ˜](http://www.uniquemo.cn/discovery)

## åŠŸèƒ½åˆ—è¡¨

-   [x] ç™»å½•/ç™»å‡ºï¼ˆç›®å‰ä»…æ”¯æŒæ‰‹æœºå¯†ç ç™»å½•ï¼‰
-   [x] å‘ç°é¡µ
    -   [x] banner
    -   [x] æ¨èæ­Œå•
    -   [x] æ¨èæœ€æ–°éŸ³ä¹
    -   [x] æ¨è MVï¼ˆä»…æ˜¯å…¥å£ï¼Œè¯¦æƒ…å¾…å®ç°ï¼‰
-   [x] æ¯æ—¥æ­Œæ›²æ¨èé¡µ
-   [x] å…¨éƒ¨æ­Œå•é¡µ
    -   [x] æ­Œå•åˆ†ç±»æŸ¥è¯¢
-   [x] æœ€æ–°éŸ³ä¹é¡µ
-   [x] æ­Œå•è¯¦æƒ…é¡µ
-   [x] éŸ³ä¹æ’­æ”¾è¯¦æƒ…é¡µ
    -   [x] æ­Œæ›²è¯„è®º
    -   [x] ç‚¹èµ/å–æ¶ˆç‚¹èµæ­Œæ›²è¯„è®º
    -   [x] æ­Œè¯æ»šåŠ¨
    -   [x] æ­Œæ›²æ‰€åœ¨æ­Œå•
    -   [x] ç›¸ä¼¼æ­Œæ›²æ¨è
-   [x] æ’­æ”¾è®°å½•åŠŸèƒ½
    -   [x] æ’­æ”¾åˆ—è¡¨
    -   [x] å†å²è®°å½•
-   [x] æœç´¢åŠŸèƒ½
    -   [x] çƒ­é—¨æœç´¢å…³é”®å­—
    -   [x] æœç´¢å»ºè®®
    -   [x] æœç´¢ç»“æœé¡µ
-   [x] åˆ›å»ºçš„æ­Œå•åˆ—è¡¨
-   [x] æ”¶è—çš„æ­Œå•åˆ—è¡¨
-   [ ] æ’è¡Œæ¦œ
-   [ ] æ‰€æœ‰æ­Œæ‰‹é¡µ
-   [ ] æ­Œæ‰‹è¯¦æƒ…é¡µ
-   [ ] MV ç›¸å…³çš„é¡µé¢ä¸åŠŸèƒ½
-   [ ] åˆ›å»º/ç¼–è¾‘/åˆ é™¤æ­Œå•
-   [ ] ç§ä¿¡/@æˆ‘/è¯„è®ºç­‰é€šçŸ¥åŠŸèƒ½
-   [ ] ä¸»é¢˜æ¢è‚¤
-   [ ] ......çœ‹å¿ƒæƒ…æ·»åŠ åŠŸèƒ½ ğŸ˜‚

æ³¨æ„ï¼šéƒ¨åˆ†æ­Œæ›²å¯èƒ½ç”±äºç‰ˆæƒé—®é¢˜æ— æ³•æ’­æ”¾å–”ã€‚

## æŠ€æœ¯æ ˆ

-   Reactï¼Œä½¿ç”¨ react hook åšçŠ¶æ€ç®¡ç†ï¼Œæ²¡æœ‰ä½¿ç”¨é¢å¤–çš„æ•°æ®ç®¡ç†åº“ã€‚
-   TypeScriptï¼Œç”¨ TypeScript ç¡®å®å¯ä»¥æé«˜æ•ˆç‡ ğŸ˜ƒï¼ˆå®¹æ˜“å‘ç°é”™è¯¯ï¼‰ã€‚
-   Graphqlï¼Œä½¿ç”¨@apollo/client ä¼˜åŒ–éƒ¨åˆ†é¡µé¢æ€§èƒ½ã€‚
-   @blueprintjs ç»„ä»¶åº“ï¼Œä¸»è¦ä½¿ç”¨å…¶ä¸­çš„ Iconã€Dialogã€Toastã€Spinner ç­‰ã€‚
-   é€æ¸ä½¿ç”¨[@uniquemo/mui](https://github.com/uniquemo/mui)æ›¿æ¢@blueprinjsï¼ˆDoingï¼‰ã€‚
-   CSS Modulesã€‚
-   Webpackã€‚
-   Eslint åšä»£ç æ£€æŸ¥ã€‚

## API æ¥å£

-   [NeteaseCloudMusicApi](https://binaryify.github.io/NeteaseCloudMusicApi)
-   [Express Graphql Server](https://github.com/uniquemo/express-graphql-server)

## æ’­æ”¾å™¨çš„ç›¸å…³æˆªå›¾

![01_ä¸ªæ€§æ¨èé¡µ](./resources/01_ä¸ªæ€§æ¨èé¡µ.png)

![02_æ¯æ—¥æ­Œæ›²æ¨è](./resources/02_æ¯æ—¥æ­Œæ›²æ¨è.png)

![03_å…¨éƒ¨æ­Œå•](./resources/03_å…¨éƒ¨æ­Œå•.png)

![04_æœ€æ–°éŸ³ä¹é¡µ](./resources/04_æœ€æ–°éŸ³ä¹é¡µ.png)

![05_æ­Œå•è¯¦æƒ…é¡µ](./resources/05_æ­Œå•è¯¦æƒ…é¡µ.png)

![06_éŸ³ä¹æ’­æ”¾è¯¦æƒ…](./resources/06_éŸ³ä¹æ’­æ”¾è¯¦æƒ….png)

![07_æ’­æ”¾è®°å½•åŠŸèƒ½](./resources/07_æ’­æ”¾è®°å½•åŠŸèƒ½.png)

![08_æœç´¢åŠŸèƒ½](./resources/08_æœç´¢åŠŸèƒ½.png)

![09_æœç´¢ç»“æœé¡µ](./resources/09_æœç´¢ç»“æœé¡µ.png)

## é¡¹ç›®å¯åŠ¨

-   é¦–å…ˆå°†ä¸Šé¢ ğŸ‘† æåˆ°çš„ API æ¥å£éƒ¨åˆ†ï¼Œä¸¤ä¸ª API æœåŠ¡ä»£ç æ‹‰åˆ°æœ¬åœ°ï¼Œå¹¶å¯åŠ¨å¯¹åº”çš„æœåŠ¡ï¼›
-   [å®‰è£…`pnpm`åŒ…ç®¡ç†å·¥å…·](https://pnpm.io/installation)ï¼›
-   ç„¶åæ‹‰å–æœ¬ä»“åº“ä»£ç ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
pnpm install
pnpm run dev:local
```

-   æœ€ååœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š`http://localhost:8080`


1. å®‰è£… Husky å’Œ lint-staged 

2. åˆå§‹åŒ– Husky
    npx husky install

è¿™ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª .husky/ æ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾ Git hooksã€‚æ¥ä¸‹æ¥ï¼ŒæŠŠ Husky è‡ªåŠ¨æŒ‚è½½åœ¨ postinstall è„šæœ¬ä¸­ï¼Œç¡®ä¿æ¯æ¬¡å®‰è£…ä¾èµ–æ—¶éƒ½ä¼šè‡ªåŠ¨è®¾ç½®ï¼š


{
  "scripts": {
    "postinstall": "husky install"
  }
}

3. æ·»åŠ é¢„æäº¤é’©å­
npx husky add .husky/pre-commit "npx lint-staged"

è¿™å°†åœ¨ .husky/pre-commit æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªé»˜è®¤çš„é’©å­ï¼Œç”¨äºåœ¨æäº¤å‰è¿è¡Œ lint-stagedã€‚ç°åœ¨æˆ‘ä»¬å°†é…ç½® lint-stagedã€‚

4. é…ç½® lint-staged

4. é…ç½® lint-staged
åœ¨ package.json ä¸­æ·»åŠ  lint-staged é…ç½®æ¥æŒ‡å®šå“ªäº›æ–‡ä»¶å¯ä»¥è¢«æäº¤ï¼Œå“ªäº›éœ€è¦æ ¼å¼åŒ–æˆ–æ£€æŸ¥ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®ï¼š

json
å¤åˆ¶ä»£ç 
{
  "lint-staged": {
    "*.js": [
      "eslint --fix",    // å¯¹æ‰€æœ‰ JavaScript æ–‡ä»¶è¿è¡Œ ESLint å¹¶è‡ªåŠ¨ä¿®å¤
      "prettier --write", // è¿è¡Œ Prettier æ ¼å¼åŒ–
      "git add"           // ç¡®ä¿ä¿®æ”¹åçš„æ–‡ä»¶è¢«åŠ å…¥æäº¤
    ],
    "*.css": [
      "stylelint --fix", // å¯¹ CSS æ–‡ä»¶è¿è¡Œ stylelint
      "git add"
    ],
    "*.md": [
      "prettier --write", // å¯¹ Markdown æ–‡ä»¶è¿è¡Œ Prettier æ ¼å¼åŒ–
      "git add"
    ],
    "*": "git add"       // æ·»åŠ æ‰€æœ‰è¢«ä¿®æ”¹çš„æ–‡ä»¶
  }
}